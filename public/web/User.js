(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{476:function(e,t,a){"use strict";a(80),a(62),a(81),a(239),a(240),a(228);function n(e){var t=e.indexOf("?"),a=e;return-1!==t&&(a=e.substr(t+1)),a.includes("#")&&(a=a.substr(0,a.indexOf("#"))),Object.fromEntries(new URLSearchParams(a).entries())}t.a={search:n,params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n(location.href);return e?t[e]:t}}},866:function(e,t,a){"use strict";a.r(t);a(431),a(432),a(423),a(424),a(425),a(105),a(80),a(154),a(465);var n=a(466),r=(a(458),a(238),a(155),a(81),a(475),a(619),a(0)),c=a.n(r),i=a(59),l=function(e){var t=e.article;return c.a.createElement("div",{onClick:function(){return Object(i.a)("?id="+t.id)},className:"article-item"},c.a.createElement("div",{className:"title"},t.title),c.a.createElement("div",{className:"intro",dangerouslySetInnerHTML:{__html:t.intro}}),c.a.createElement("div",{className:"statistics"},c.a.createElement("span",null,"浏览：",t.footstep),c.a.createElement("span",null,"点赞：",t.thumbs_up)))},s=a(47),u=a(476),o=a(21);function m(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(e){var t=e.location,a=(e.user,u.a.search(t.search).uid),i=d(Object(r.useState)({uid:0}),2),f=i[0],v=i[1],E=d(Object(r.useState)(1),2),b=E[0],p=E[1],h=d(Object(r.useState)([]),2),N=h[0],y=h[1],g=d(Object(r.useState)(!0),2),j=g[0],O=g[1],w=d(Object(r.useState)(0),2),S=w[0],A=w[1],k=Object(r.useCallback)((function(){O(!0),a&&Object(o.a)(void 0,{uid:a,pageIndex:b+1,pageSize:3}).then((function(e){var t=e.page,a=void 0===t?{}:t,n=e.data,r=void 0===n?[]:n;y([].concat(m(N),m(r))),p(b+1),A(a.total_page)})).finally((function(){return O(!1)}))}),[a,b,N]);return Object(r.useEffect)((function(){k()}),[]),Object(r.useEffect)((function(){a&&Object(o.h)(a).then((function(e){var t=e.error,a=void 0===t?[]:t,n=e.data;0===a.length&&v(n)}))}),[]),f.uid?c.a.createElement("div",{className:"user"},c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"avatar"},c.a.createElement("img",{src:f.avatar||s.a.user.avatar})),c.a.createElement("div",{className:"medal"},c.a.createElement("div",{className:"medal-item"},c.a.createElement("div",null,"文章"),c.a.createElement("div",{className:"count"},Number(f.articles_count))),c.a.createElement("div",{className:"medal-item"},c.a.createElement("div",null,"粉丝"),c.a.createElement("div",{className:"count"},"0")),c.a.createElement("div",{className:"medal-item"},c.a.createElement("div",null,"点赞"),c.a.createElement("div",{className:"count"},Number(f.thumbs_up.article)))),c.a.createElement("div",{className:"userinfo"},c.a.createElement("div",{className:"userinfo-item"},"昵称：",f.nickname),c.a.createElement("div",{className:"userinfo-item"},"性别：",0===f.sex?"女":"男"))),c.a.createElement("div",{className:"content"},N.length>0?N.map((function(e){return c.a.createElement(l,{key:e.id,article:e})})):c.a.createElement("div",{className:"nothing"},"这个楞逼啥都没写 ~"),S>b||j?c.a.createElement("div",{onClick:k,className:"more"},j?c.a.createElement(n.a,null):"加载更多"):"")):c.a.createElement("div",{className:"user-loading"},c.a.createElement(n.a,null))}}}]);